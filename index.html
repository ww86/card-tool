<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>VTES Custom Card Editor</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Tangerine&display=swap"                        rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Vollkorn+SC&display=swap"                      rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap"                           rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&display=swap"  rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&display=swap"               rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Text&display=swap"                     rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Dai+Banna+SIL&display=swap"                    rel="stylesheet">


<style>
    @font-face {
      font-family: 'Manuskript Gothisch';
      src: url('./fonts/manuskript_gothisch_unz1a.ttf') format('truetype');
    }

    @font-face {
      font-family: 'Gil Sans MT';
      src: url('./fonts/gil.ttf') format('truetype');
    } 

    @font-face {
      font-family: "Malkavian Font";
      src: url("./fonts/malk.ttf") format('truetype');
    }    

    @font-face {
      font-family: 'GF Ordner Normal';
      src: url('./fonts/ordner_n.ttf') format('truetype');
    }    

</style>

</head>
<body>
  <div class="container">
    <!-- Left Panel: Card details & text styling -->
    <div class="left-panel" id="left-panel">
      <h2>Details</h2>
      

      <!-- Font control panels,
            structure is like this

      <div class="input-group">
        <div class="h-selector">
        </div>
        <div class="settings-group">
        </div>
      </div>       

      -->

  
    </div>          
    
    <!-- Middle Panel: Toggle selectors -->
    <div class="middle-panel">

      <div class="section cost-symbol-section">
        <h2>Capacity & Cost Icons</h2>
        <div id="symbolHeader" class="section">
          <!-- Settings header is injected via script.js -->          
        </div>        
        <div class="toggle-grid-symbol" id="symbolGrid">
          <!-- Card type toggles are injected via script.js -->
        </div>
      </div>      

      <div class="section">
        <h2>Card type icons</h2>
        <div id="typeHeader" class="section">
          <!-- Settings header is injected via script.js -->          
        </div>        
        <div class="toggle-grid-type" id="typeGrid">
          <!-- Card type toggles are injected via script.js -->
        </div>
      </div>      

      <div class="section">
        <h2>Disciplines</h2>
        <div id="disciplineHeader" class="section">
          <!-- Settings header is injected via script.js -->
        </div>
        <div class="toggle-grid-discipline" id="disciplinesGrid">
          <!-- Discipline toggles are injected via script.js -->
        </div>
      </div>

      <div class="section">
        <h2>Clan Symbols</h2>
        <div id="clanHeader" class = "section">
        <!-- Settings header is injected via script.js -->
        </div>        
        <div class="toggle-grid" id="clansGrid">       
        </div>
      </div>
       
    </div>
    
    <!-- Art Panel: Image import & adjustments -->    
    <div class="art-panel">
      <h2>Art and Frame</h2>      
      <!-- Type and Subtype -->



     <!-- Main Frame Dropdown -->
    <div class="input-group">
      <label for="mainFrame">Main Frame:</label>
      <select id="mainFrame">

        <!-- Library Card Types -->
        <optgroup label="Library Card Types (Quality currently off)">
          <option value="none" selected>None</option>                 
          <option value="modifier_card">Modifier</option>
          <option value="action_card">Action</option>
          <option value="political_action_card">Political Action</option>
          <option value="event_card">Event</option>
          <option value="master_card">Master</option>
          <option value="reaction_card">Reaction</option>
          <option value="combat_card">Combat</option>
          <option value="equipment_card">Equipment</option>
          <option value="ally_card">Ally</option>
        </optgroup>        

        <!-- Generic Vampire Frames -->
        <optgroup label="Generic Custom Vampire Frames"> 
          <option value="vampire_generic_01">Generic 1</option>
          <option value="vampire_generic_02">Generic 2</option>
          <option value="vampire_generic_03">Generic 3</option>
          <option value="vampire_generic_04">Generic 4</option>
          <option value="vampire_cut_01">Cut 1</option>                    
        </optgroup>

        <!-- Custom library frames -->
        <optgroup label="Library (Custom)">
          <option value="library_generic_01">Generic Library Frame 1</option>
          <option value="library_generic_02">Generic Library Frame 2</option>   
          <option value="library_generic_03">Generic Library Frame 3</option>
          <option value="library_generic_04">Generic Library Frame 4</option>      
          <option value="library_generic_05">Generic Library Frame 5</option>
          <option value="library_generic_06">Generic Library Frame 6</option>                 
          <option value="frame_black_marble_01">Black Marble 1</option>          
          <option value="frame_green_marble_01">Green Marble 1</option>
        </optgroup>

        <!-- Clan-Specific Frames -->
        <optgroup label="Imbued (custom)">
          <option value="imbued_generic_01">Generic Imbued Frame 1</option>          
        </optgroup>          

        <!-- Clan-Specific Frames -->
        <optgroup label="Vampire Clans (currently missing)">
          <option value="clan_assamite">Assamite</option>
          <option value="clan_brujah">Brujah</option>
          <option value="clan_brujah_antitribu">Brujah Antitribu</option>
          <option value="clan_cappadocian">Cappadocian</option>
          <option value="clan_gangrel">Gangrel</option>
          <option value="clan_gangrel_antitribu">Gangrel Antitribu</option>
          <option value="clan_giovanni">Giovanni</option>
          <option value="clan_lamia">Lamia</option>
          <option value="clan_lasombra">Lasombra</option>
          <option value="clan_malkavian">Malkavian</option>
          <option value="clan_malkavian_antitribu">Malkavian Antitribu</option>
          <option value="clan_nosferatu">Nosferatu</option>
          <option value="clan_nosferatu_antitribu">Nosferatu Antitribu</option>
          <option value="clan_ravnos">Ravnos</option>
          <option value="clan_salubri">Salubri</option>
          <option value="clan_salubri_antitribu">Salubri Antitribu</option>
          <option value="clan_toreador">Toreador</option>
          <option value="clan_toreador_antitribu">Toreador Antitribu</option>
          <option value="clan_tremere">Tremere</option>
          <option value="clan_tremere_antitribu">Tremere Antitribu</option>
          <option value="clan_tzimisce">Tzimisce</option>
          <option value="clan_ventrue">Ventrue</option>
          <option value="clan_ventrue_antitribu">Ventrue Antitribu</option>
        </optgroup>        
      </select>
    </div>

    <!-- Side Panel Dropdown -->
    <div class="input-group">
      <label for="sidePanel">Side Panel Overlay:</label>
      <select id="sidePanel">
        <!-- Generic Side Panels -->
        <optgroup label="Generic Side Panels">
          <option value="none" selected>None</option>
          <option value="generic_green_marble">Generic (Green Marble)</option>
          <option value="generic_black_marble">Generic (Black Marble)</option>
          <option value="generic_narrow_01">Generic Narrow 1</option>
          <option value="generic_narrow_02">Generic Narrow 2</option>          
        </optgroup>

        <!-- Library Card Types -->
        <optgroup label="Library Card Types">
          <option value="sidepanel_action">Action</option>
          <option value="sidepanel_political_action">Political Action</option>
          <option value="sidepanel_event">Event</option>
          <option value="sidepanel_master">Master</option>
          <option value="sidepanel_reaction">Reaction</option>
          <option value="sidepanel_combat">Combat</option>
          <option value="sidepanel_equipment">Equipment</option>
          <option value="sidepanel_ally">Ally</option>
        </optgroup>

        <!-- Clan-Specific Side Panels -->
        <optgroup label="Vampire Clans">
          <option value="sidepanel_assamite">Assamite</option>
          <option value="sidepanel_brujah">Brujah</option>
          <option value="sidepanel_brujah_antitribu">Brujah Antitribu</option>
          <option value="sidepanel_cappadocian">Cappadocian</option>
          <option value="sidepanel_gangrel">Gangrel</option>
          <option value="sidepanel_gangrel_antitribu">Gangrel Antitribu</option>
          <option value="sidepanel_giovanni">Giovanni</option>
          <option value="sidepanel_lamia">Lamia</option>
          <option value="sidepanel_lasombra">Lasombra</option>
          <option value="sidepanel_malkavian">Malkavian</option>
          <option value="sidepanel_malkavian_antitribu">Malkavian Antitribu</option>
          <option value="sidepanel_nosferatu">Nosferatu</option>
          <option value="sidepanel_nosferatu_antitribu">Nosferatu Antitribu</option>
          <option value="sidepanel_ravnos">Ravnos</option>
          <option value="sidepanel_salubri">Salubri</option>
          <option value="sidepanel_salubri_antitribu">Salubri Antitribu</option>
          <option value="sidepanel_toreador">Toreador</option>
          <option value="sidepanel_toreador_antitribu">Toreador Antitribu</option>
          <option value="sidepanel_tremere">Tremere</option>
          <option value="sidepanel_tremere_antitribu">Tremere Antitribu</option>
          <option value="sidepanel_tzimisce">Tzimisce</option>
          <option value="sidepanel_ventrue">Ventrue</option>
          <option value="sidepanel_ventrue_antitribu">Ventrue Antitribu</option>
        </optgroup>
      </select>
    </div>

      <div class="input-group">
        <label for="artFile">Upload Image:</label>
        <input type="file" id="artFile" accept="image/*">
      </div>
      <div class="input-group">
        <label for="artUrl">Image URL:</label>
        <input type="text" id="artUrl" placeholder="Enter image URL">
        <button id="loadArtUrl">Load Image</button>
      </div>
      <div class="input-group">
        <label for="offsetX">Offset X (px):</label>
        <input type="number" id="offsetX" value="0" class="art-panel-number-input">
      </div>
      <div class="input-group">
        <label for="offsetY">Offset Y (px):</label>
        <input type="number" id="offsetY" value="0" class="art-panel-number-input">
      </div>
      <div class="input-group">
        <label for="cropTop">Crop Top (px):</label>
        <input type="number" id="cropTop" value="0" class="art-panel-number-input">
      </div>
      <div class="input-group">
        <label for="cropRight">Crop Right (px):</label>
        <input type="number" id="cropRight" value="0" class="art-panel-number-input">
      </div>
      <div class="input-group">
        <label for="cropBottom">Crop Bottom (px):</label>
        <input type="number" id="cropBottom" value="0" class="art-panel-number-input">
      </div>
      <div class="input-group">
        <label for="cropLeft">Crop Left (px):</label>
        <input type="number" id="cropLeft" value="0" class="art-panel-number-input">
      </div>
      <div class="input-group">
        <label for="scalePercent">Scale (%):</label>
        <input type="number" id="scalePercent" value="100">
      </div>
      <div class="input-group">
        <label for="borderRadius">Border:</label>
        <input type="number" id="borderRadius" value="6" class="art-panel-number-input">
      </div>      
    
    </div>

    <!-- Right Panel: Card preview and action buttons -->
    <div class="right-panel">
      <h2>Card Preview</h2>
      <canvas id="cardCanvas" width="358" height="500"></canvas>
      <div class="button-container">
        <button id="updateCardButton">Update card</button>        
        <button id="exportButton">Export as PNG</button>
        <button id="saveJsonButton">Save as JSON</button>
        <button id="importJsonButton">Import JSON</button>
      </div>
      <input type="file" id="jsonImport" accept="application/json" style="display:none;">
      <div id="darkPackSection">  
        Dark Pack Logo
      </div>                
      <div id="errorLog" class="error-log"></div>
      <div id="onloadErrorLog" class="onload-error-log"></div>   
    </div>
  </div>
  
  <script src="01_global_variables.js">       </script>
  <script src="02_datatables.js">             </script> 
  <script src="03_utility_functions.js">      </script>
  <script src="04_ui_functions.js">           </script>
  <script src="05_darkpack_license.js">       </script>  
  <script src="06_json_import_export.js">     </script>
  <script src="07_tests.js">                  </script>
  <script src="08_font_controls.js">          </script>
  <script src="09_word_wraptext.js">          </script>
  <script src="10_script.js">                 </script>

  <div id="licensePopup" class="popup-overlay" style="display: none;">
    <div class="popup-content">
      <img src="symbol_dark_pack_logo_bw.png" alt="Dark Pack Logo" class="popup-logo">
      <div id="licenseText" class="popup-text">Loading license...</div>
      <div class="popup-buttons">
        <button id="acceptButton">Accept</button>
        <button id="declineButton">Decline</button>
      </div>
    </div>
  </div>  

</body>
</html>
